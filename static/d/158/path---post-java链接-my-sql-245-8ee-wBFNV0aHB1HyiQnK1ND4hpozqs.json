{"data":{"markdownRemark":{"html":"<h1>前言</h1>\n<p>一直用PHP 连接 MySQL，由于 PHP 对 MySQL 连接做了很好的封装基本做到了“开箱即用”。而 Java 相比而言基本上属于“手动挡”。Java 语法“又臭又长”为人所诟病。这里我也尝试了用 Java 来连接 MySQL，好久没写 Java 键盘有些颤抖。</p>\n<!--more-->\n<h1>环境</h1>\n<ul>\n<li>Window10</li>\n<li>IDEA</li>\n<li>Tomcat9.0</li>\n<li>JDK 1.8</li>\n<li>MySQL 8.0.3 rc</li>\n</ul>\n<h1>代码</h1>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>@ page contentType<span class=\"token operator\">=</span><span class=\"token string\">\"text/html;charset=UTF-8\"</span> language<span class=\"token operator\">=</span><span class=\"token string\">\"java\"</span> <span class=\"token operator\">%</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>@ page <span class=\"token keyword\">import</span><span class=\"token operator\">=</span><span class=\"token string\">\"com.mysql.jdbc.Driver\"</span><span class=\"token operator\">%</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>@ page <span class=\"token keyword\">import</span><span class=\"token operator\">=</span><span class=\"token string\">\"java.sql.*\"</span> <span class=\"token operator\">%</span><span class=\"token operator\">></span>\n\n<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>html<span class=\"token punctuation\">></span></span>\n<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>head<span class=\"token punctuation\">></span></span>\n    <span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>title<span class=\"token punctuation\">></span></span>MySQL connect test<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n<span class=\"token generics function\"><span class=\"token punctuation\">&lt;</span>body<span class=\"token punctuation\">></span></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>\n    String driverName <span class=\"token operator\">=</span> <span class=\"token string\">\"com.mysql.jdbc.Driver\"</span><span class=\"token punctuation\">;</span>\n    String userName <span class=\"token operator\">=</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">;</span>\n    String passWorld <span class=\"token operator\">=</span> <span class=\"token string\">\"1203my\"</span><span class=\"token punctuation\">;</span>\n    String dbName <span class=\"token operator\">=</span> <span class=\"token string\">\"daliy-test\"</span><span class=\"token punctuation\">;</span>\n    String tableName <span class=\"token operator\">=</span> <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">;</span>\n\n    String url <span class=\"token operator\">=</span> <span class=\"token string\">\"jdbc:mysql://localhost/\"</span><span class=\"token operator\">+</span>dbName<span class=\"token operator\">+</span><span class=\"token string\">\"?user=\"</span><span class=\"token operator\">+</span>userName<span class=\"token operator\">+</span><span class=\"token string\">\"&amp;password=\"</span><span class=\"token operator\">+</span>passWorld<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        Class<span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com.mysql.jdbc.Driver\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Connection connection <span class=\"token operator\">=</span> DriverManager<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Statement statement <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        String sql <span class=\"token operator\">=</span> <span class=\"token string\">\"SELECT * FROM \"</span><span class=\"token operator\">+</span>tableName<span class=\"token punctuation\">;</span>\n        ResultSet result <span class=\"token operator\">=</span> statement<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ResultSetMetaData rmate <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">getMetaData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> numCount <span class=\"token operator\">=</span> rmate<span class=\"token punctuation\">.</span><span class=\"token function\">getColumnCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;br>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        statement<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        connection<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">%</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"title":"Java 连接 MySQL","tags":["Java","Jsp","MySQL"]},"excerpt":"前言 一直用PHP 连接 MySQL，由于 PHP 对 MySQL 连接做了很好的封装基本做到了“开箱即用”。而 Java 相比而言基本上属于“手动挡”。Java 语法“又臭又长”为人所诟病。这里我也尝试了用 Java 来连接 MySQL，好久没写 Java…"}},"pageContext":{"slug":"/post/java链接MySQL","pre":"/post/如何理解递归","next":"/post/神奇的for循环","tags":["wabpack","eslint","react","babel","javascript","algorihm","linix","app","git","gogs","nginx","proxy","ruby","language","php","shell","cpp","language-feature","c","recursion","java","jsp","mysql","atom","markdown","nodejs","error"]}}